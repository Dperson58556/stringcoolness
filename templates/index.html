<!DOCTYPE html>
<html>
  <head>
    <title>String Scorer</title>
    <style>
      body { font-family: monospace; background: #111; color: #eee; }
      .string { margin: 6px 0; }
    </style>
  </head>
  <body>

    <h1>String Scorer</h1>

    <label>
      Length:
      <input id="length" type="number" value="8">
    </label>
    <button onclick="generate()">Generate</button>

    <div id="results"></div>

    <script>
      async function generate() {
        const length = document.getElementById("length").value;
        const res = await fetch(`/generate?length=${length}`);
        const data = await res.json();

        const obj = Array.isArray(data) ? data[0] : data;

        const resultsDiv = document.getElementById("results");
        resultsDiv.innerHTML = "";

        for (const [key, value] of Object.entries(obj)) {
          const line = document.createElement("div");

          const keyEl = document.createElement("strong");
          keyEl.textContent = key + ": ";

          const valueEl = document.createElement("span");
          valueEl.textContent =
              typeof value === "object"
                  ? JSON.stringify(value)
                  : value;

          line.appendChild(keyEl);
          line.appendChild(valueEl);
          resultsDiv.appendChild(line);
        }
      }
    </script>

  </body>
</html>
